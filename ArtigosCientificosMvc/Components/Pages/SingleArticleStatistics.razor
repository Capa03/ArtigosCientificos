@inject IJSRuntime JS
@rendermode InteractiveServer

<h3>Article Statistics</h3>
<canvas id="articleStatisticsChartSingle" width="200px" height="200px"></canvas>

@code {
    [Parameter]
    public int TotalArticles { get; set; }

    [Parameter]
    public int TotalViews { get; set; }

    [Parameter]
    public int TotalDownloads { get; set; }

    protected override async Task OnParametersSetAsync()
    {
        Console.WriteLine($"Parameters Updated: TotalArticles={TotalArticles}, TotalViews={TotalViews}, TotalDownloads={TotalDownloads}");

        // Ensure the chart is updated with the new data
        var data = new
        {
            totalArticles = TotalArticles,
            totalViews = TotalViews,
            totalDownloads = TotalDownloads
        };

        await JS.InvokeVoidAsync("console.log", "Updating chart with new data:", data);
        await JS.InvokeVoidAsync("drawSmallChartSingle", data);
    }
}